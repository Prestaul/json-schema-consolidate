#!/usr/bin/env bash

validator=$1

VALIDATORS=( "is-my-json-valid" "jjv" "tv4" )

if [[ $validator == "" || $validator == "--full" ]]; then
    for val in "${VALIDATORS[@]}"; do
        results=$(json-schema-tests "spec/adapter/$val.js")
        if [[ $validator == "--full" ]]; then
            echo $'\n\n'"Testing ${val}"$'\n'
            echo "$results"
        else
            echo "${val}: $(echo "$results" | grep -i 'passed')"
        fi
    done
else
    json-schema-tests "spec/adapter/$validator.js"
fi
